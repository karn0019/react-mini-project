{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karnw\\\\Documents\\\\react-tourist-attraction-mini-project-karn-p-moo\\\\client\\\\src\\\\page\\\\homepage.js\",\n    _s = $RefreshSig$();\n\nimport \"./homepage.css\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport link from \"../image/link.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Homepage() {\n  _s();\n\n  const [trips, setTrips] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n\n  const getTrips = async () => {\n    const results = await axios.get(`http://localhost:4001/trips?keywords=${searchText}`);\n    setTrips(results.data.data);\n  };\n\n  const handleSearchTextChange = event => {\n    setSearchText(event.target.value);\n  };\n\n  const HandleConcatTag = tag => {\n    if (!searchText.includes(tag)) {\n      setSearchText((searchText + \" \" + tag).trim());\n    }\n  };\n\n  useEffect(() => {\n    let timerId;\n    timerId = setTimeout(getTrips, 1000);\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [searchText]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"listTrips\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: \"\\u0E40\\u0E17\\u0E35\\u0E48\\u0E22\\u0E27\\u0E44\\u0E2B\\u0E19\\u0E14\\u0E35\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"searchTrip\",\n      children: [\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E17\\u0E35\\u0E48\\u0E40\\u0E17\\u0E35\\u0E48\\u0E22\\u0E27\", /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleSearchTextChange,\n        value: searchText,\n        placeholder: \"\\u0E2B\\u0E32\\u0E17\\u0E35\\u0E48\\u0E40\\u0E17\\u0E35\\u0E48\\u0E22\\u0E27\\u0E41\\u0E25\\u0E49\\u0E27\\u0E44\\u0E1B\\u0E01\\u0E31\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), trips.map((card, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardTrips\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mainImage\",\n          src: card.photos[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mainContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"titleTrip\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: card.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"description\",\n              children: card.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"link\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: card.url,\n                children: \"\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E15\\u0E48\\u0E2D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"catagories\",\n              children: [\"\\u0E2B\\u0E21\\u0E27\\u0E14\", \" \", card.tags.slice(0, -1).map((tag, index) => {\n                return /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  className: \"Tags\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => HandleConcatTag(tag),\n                    children: [tag, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 23\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"Tags\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => HandleConcatTag(card.tags.slice(-1)),\n                  children: [\"และ\", \" \", card.tags.slice(-1)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subImage\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"subImage1\",\n                src: card.photos[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"subImage2\",\n                src: card.photos[2]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"subImage3\",\n                src: card.photos[3]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => navigator.clipboard.writeText(card.url),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"copyLink\",\n                  src: link,\n                  alt: \"copyLink-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, card.eid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Homepage, \"FSr10nu9QYnt1FQ/1ZHzwaW6/40=\");\n\n_c = Homepage;\nexport default Homepage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"sources":["C:/Users/karnw/Documents/react-tourist-attraction-mini-project-karn-p-moo/client/src/page/homepage.js"],"names":["axios","useState","useEffect","link","Homepage","trips","setTrips","searchText","setSearchText","getTrips","results","get","data","handleSearchTextChange","event","target","value","HandleConcatTag","tag","includes","trim","timerId","setTimeout","clearTimeout","map","card","index","photos","title","description","url","tags","slice","navigator","clipboard","writeText","eid"],"mappings":"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","sourcesContent":["import \"./homepage.css\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport link from \"../image/link.png\";\r\n\r\nfunction Homepage() {\r\n  const [trips, setTrips] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const getTrips = async () => {\r\n    const results = await axios.get(\r\n      `http://localhost:4001/trips?keywords=${searchText}`\r\n    );\r\n\r\n    setTrips(results.data.data);\r\n  };\r\n\r\n  const handleSearchTextChange = (event) => {\r\n    setSearchText(event.target.value);\r\n  };\r\n\r\n  const HandleConcatTag = (tag) => {\r\n    if (!searchText.includes(tag)) {\r\n      setSearchText((searchText + \" \" + tag).trim());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timerId;\r\n\r\n    timerId = setTimeout(getTrips, 1000);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n  }, [searchText]);\r\n\r\n  return (\r\n    <div className=\"listTrips\">\r\n      <header className=\"header\">เที่ยวไหนดี</header>\r\n\r\n      <label className=\"searchTrip\">\r\n        ค้นหาที่เที่ยว\r\n        <input\r\n          onChange={handleSearchTextChange}\r\n          value={searchText}\r\n          placeholder=\"หาที่เที่ยวแล้วไปกัน\"\r\n        />\r\n      </label>\r\n\r\n      {trips.map((card, index) => {\r\n        return (\r\n          <div className=\"cardTrips\" key={card.eid}>\r\n            <img className=\"mainImage\" src={card.photos[0]} />\r\n            <div className=\"mainContent\">\r\n              <div className=\"titleTrip\">\r\n                <h3>{card.title}</h3>\r\n              </div>\r\n              <div className=\"content\">\r\n                <p className=\"description\">{card.description}</p>\r\n                <div className=\"link\">\r\n                  <a href={card.url}>อ่านต่อ</a>\r\n                </div>\r\n                <div className=\"catagories\">\r\n                  หมวด{\" \"}\r\n                  {card.tags.slice(0, -1).map((tag, index) => {\r\n                    return (\r\n                      <a href=\"#\" className=\"Tags\" key={index}>\r\n                        <span onClick={() => HandleConcatTag(tag)}>{tag} </span>\r\n                      </a>\r\n                    );\r\n                  })}\r\n                  {\r\n                    <a href=\"#\" className=\"Tags\">\r\n                      <span\r\n                        onClick={() => HandleConcatTag(card.tags.slice(-1))}\r\n                      >\r\n                        {\"และ\"} {card.tags.slice(-1)}\r\n                      </span>\r\n                    </a>\r\n                  }\r\n                </div>\r\n                <div className=\"subImage\">\r\n                  <img className=\"subImage1\" src={card.photos[1]} />\r\n                  <img className=\"subImage2\" src={card.photos[2]} />\r\n                  <img className=\"subImage3\" src={card.photos[3]} />\r\n                  <a onClick={() => navigator.clipboard.writeText(card.url)}>\r\n                    <img className=\"copyLink\" src={link} alt=\"copyLink-icon\" />\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n"]},"metadata":{},"sourceType":"module"}